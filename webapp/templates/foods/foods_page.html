{% extends "base.html" %}

{% block title %}Foods{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/foods.css') }}">
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/foods.js') }}"></script>
{% endblock %}

{% block content %}
<header class="container gy-2 mb-3 d-flex gap-2 align-items-center justify-content-between">
  <h1 class="col-auto my-2 me-auto">Foods</h1>
  <div class="btn-group col-auto">
    <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
      {{ selected_category.name if selected_category else 'Select category' }}
    </button>
    <ul class="dropdown-menu">
      <li class="text-nowrap">
        <a class="dropdown-item{% if not selected_category %} active{% endif %}"
          href="{{ url_for('foods.list') }}">All</a>
      </li>
      {% for category in categories %}
      {% set active = True if selected_category and selected_category == category else False %}
      <li class="text-nowrap">
        <a class="dropdown-item{% if active %} active{% endif %}"
          href="{{ url_for('foods.list', category_id=category.id) }}">{{ category.name }}</a>
      </li>
      {% endfor %}
    </ul>
  </div>
</header>

<section class="container-fluid overflow-x-auto p-0">
{% if selected_category %}
{% with category=selected_category %}
{% include 'foods/food_category_container.html' %}
{% endwith %}
{% else %}
{% for category in categories %}
{% include 'foods/food_category_container.html' %}
{% endfor %}
{% endif %}
</section>
{% endblock %}